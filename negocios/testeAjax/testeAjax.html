<!DOCTYPE html>
<html>
<head>
	<title>Teste Ajax</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
</head>
<body>
	<main>
		
		<form id='formulario'>
			
			<input type="text" name="nome" id='nome'>
			<input type="text" name="idade" id='idade'>

			<button>Enviar</button>

		</form>


		<form id='pega-dados'>

			<h2>Recebe dados cadastrados</h2>
				
			<input type="text" name="nome2" id='nome2'>
			<input type="text" name="idade2" id='idade2'>

			<button>Enviar</button>


		</form>

	</main>

	<script>
		
		$(()=>{

			$('#formulario').submit(()=>{

				// let dados = {

				// 	'nome':$('#nome').val().toString(),
				// 	'idade':$('#idade').val().toString()

				// };

				let serialize = $('#formulario').serialize();

				// alert(serialize);

				jQuery.ajax({

					method:'POST',
					url:'testeAjax.php',
					data: serialize,
					success: (data) => {
						
						alert(data);

						$('#formulario').each(function(){

							this.reset();

							$.ajax({

								method:'GET',
								url:'testeAjax.php',
								success: (data) =>{

									alert(data);

									// $('#nome2').val(json.nome);
									// $('#idade2').val(json.idade);

								}

							});

						});
					}

				});

				return false;


			});


			


		});

	</script>

</body>
</html>